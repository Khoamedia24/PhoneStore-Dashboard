@model PhoneStore.Models.Admin
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Thông tin cá nhân";
}

<div class="bg-white p-6 rounded-xl shadow-md max-w-2xl mx-auto">
    <h2 class="text-2xl font-bold mb-6">Thông tin cá nhân</h2>

    @if (TempData["Success"] != null)
    {
        <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4">
            <span class="block sm:inline">@TempData["Success"]</span>
        </div>
    }

    @if (TempData["Error"] != null)
    {
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
            <span class="block sm:inline">@TempData["Error"]</span>
        </div>
    }

    <form asp-action="UpdateProfile" method="post" class="space-y-6">
        @Html.AntiForgeryToken()
        
        <div class="grid grid-cols-1 gap-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Tên tài khoản</label>
                <input type="text" value="@Model.Username" class="w-full px-3 py-2 border border-gray-300 rounded-md" readonly>
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Họ tên</label>
                <input type="text" name="fullName" value="@Model.FullName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
            </div>            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Ngày sinh</label>
                <input type="date" name="birthDate" value="@(Model.BirthDate.HasValue ? Model.BirthDate.Value.ToDateTime(TimeOnly.MinValue).ToString("yyyy-MM-dd") : "")" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">CMND/CCCD</label>
                <input type="text" name="nationalId" value="@Model.NationalId" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
            </div>

            <div class="border-t pt-6">
                <h3 class="text-lg font-semibold mb-4">Đổi mật khẩu</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Mật khẩu hiện tại</label>
                        <input type="password" name="currentPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Mật khẩu mới</label>
                        <input type="password" name="newPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Xác nhận mật khẩu mới</label>
                        <input type="password" name="confirmPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>
            </div>

            <div class="flex justify-end space-x-4">
                <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    Lưu thay đổi
                </button>
            </div>
        </div>
    </form>
</div>
